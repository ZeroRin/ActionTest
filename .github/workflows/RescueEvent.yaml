name: TestOutput

on:
  workflow_dispatch:
    inputs:
      cmdargs:
        description: 'Commandline Arguments'     
        required: false
        default: 'input' 
        type: string
  push:
      
jobs:
  RescueEventUpdate:
    runs-on: ubuntu-latest
    steps:
      - id: echoecho
        run: |
          echo "::set-output name=m1::111"
          echo "::set-output name=m3::333"
      - id: echoecho2
        run: |
          MY_STRING="${{ join(steps.echoecho.outputs.*,'%') }}"
          MY_STRING="${MY_STRING//'%'/$'\n'}"
          MY_STRING="${MY_STRING//$'\n'/'%0A'}"
          MY_STRING="${MY_STRING//$'\r'/'%0D'}"
          echo $MY_STRING
          echo "::set-output name=content::$MY_STRING"
      - id: echoecho3
        run: |
          echo "{{ steps.echoecho2.outputs.content }}"
